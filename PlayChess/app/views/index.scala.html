@(message: String)

@main("Welcome to PlayChess") {

    <script type="text/javascript">
        var pieces = {
            white : {
                king : '\u2654',
                queen : '\u2655',
                rook : '\u2656',
                bishop : '\u2657',
                knight : '\u2658',
                pawn : '\u2659'
            },
            black : {
                king : '\u265A',
                queen : '\u265B',
                rook : '\u265C',
                bishop : '\u265D',
                knight : '\u265E',
                pawn : '\u265F'
            }
        };

        $(document).ready(function() {
            setDefaultBackground();

            $('#board > tbody > tr').each(function() {
                $(this).children().each(function () {
                    $(this).addClass('tile');
                });
            });

            $('#board > tbody > tr > td').height($('#board > tbody > tr > td').width());

            setDefaultBoard();
        });

        $(window).resize(function () {
            var cw = $('#board > tbody > tr > td').width();
            $('#board > tbody > tr > td').height(cw);
            $('#board > tbody > tr > td').css('font-size', cw);
        });

        // functions
        function setDefaultBackground() {
            $('#board > tbody > tr').each(function() {
                if($(this).index() % 2 === 0) {
                    $(this).children('td').each(function() {
                        if($(this).index() % 2 === 1) {
                            $(this).addClass('bgOrange');
                        } else {
                            $(this).addClass('bgWhite');
                        }
                    });
                } else {
                    $(this).children('td').each(function() {
                        if($(this).index() % 2 === 0) {
                            $(this).addClass('bgOrange');
                        } else {
                            $(this).addClass('bgWhite');
                        }
                    });
                }
            });
        }

        function setDefaultBoard() {
            $('#board > tbody > tr').each(function() {
                if ($(this).index() == 0) {
                    $(this).children('td').each(function () {
                        if ($(this).index() == 0 || $(this).index() == 7) {
                            $(this).text(pieces.black.rook);
                        }
                        if ($(this).index() == 1 || $(this).index() == 6) {
                            $(this).text(pieces.black.knight);
                        }
                        if ($(this).index() == 2 || $(this).index() == 5) {
                            $(this).text(pieces.black.bishop);
                        }
                        if ($(this).index() == 3) {
                            $(this).text(pieces.black.queen);
                        }
                        if ($(this).index() == 4) {
                            $(this).text(pieces.black.king);
                        }
                    });
                }
                if ($(this).index() == 1) {
                    $(this).children('td').each(function () {
                        $(this).text(pieces.black.pawn);
                    });
                }
                if ($(this).index() == 6) {
                    $(this).children('td').each(function () {
                        $(this).text(pieces.white.pawn);
                    });
                }
                if ($(this).index() == 7) {
                    $(this).children('td').each(function () {
                        if ($(this).index() == 0 || $(this).index() == 7) {
                            $(this).text(pieces.white.rook);
                        }
                        if ($(this).index() == 1 || $(this).index() == 6) {
                            $(this).text(pieces.white.knight);
                        }
                        if ($(this).index() == 2 || $(this).index() == 5) {
                            $(this).text(pieces.white.bishop);
                        }
                        if ($(this).index() == 3) {
                            $(this).text(pieces.white.queen);
                        }
                        if ($(this).index() == 4) {
                            $(this).text(pieces.white.king);
                        }
                    });
                }
            });
        }

    </script>

    <style type="text/css">
        .tile {
            min-width: 75px;
            min-height: 75px;
            font-size: 75px;
            margin-left: auto;
            margin-right: auto;
            text-align: center !important;
            vertical-align: middle !important;
        }

        .bgOrange {
            background-color: orange;
        }

        .bgWhite {
            background-color: white;
        }

        .hoverBorder {

        }
    </style>

    <div>
        <h3>@message</h3>
        <h3>Hello there!</h3>
    </div>

    <div>
        <table id="board" class="table table-bordered">
            <thead>
            </thead>
            <tbody>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <th>1</th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <th>2</th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <th>3</th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <th>4</th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <th>5</th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <th>6</th>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <th>7</th>
                <tr>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <td></td>
                    <th>8</th>
                </tr>
                <tr>
                    <th>A</th>
                    <th>B</th>
                    <th>C</th>
                    <th>D</th>
                    <th>E</th>
                    <th>F</th>
                    <th>G</th>
                    <th>H</th>
                    <td></td>
                </tr>
            </tbody>
            <tfoot>
            </tfoot>
        </table>
    </div>
}
